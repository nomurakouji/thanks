<!DOCTYPE html>
<html>
  <head>
    <title>Thanks</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%# デフォルト %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%# bootstrap %>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <%# fontawesomeの使用 %>
    <link href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/bb59f7e075.js" crossorigin="anonymous"></script>
    <%# slickの使用 %>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>

  </head>

 <body>
    <div class = "header">
          
          <% if current_user.try(:admin) %>
        <p class = "header-left">
            <a class = "header_column"><%= link_to "投稿する", new_admin_post_path %></a>
             <a class = "header_column"><%= link_to "投稿管理", admin_posts_path %></a>
             <a class = "header_column"><%= link_to "ユーザー管理", admin_users_path %></a>
            <a class = "header_column"> <%= link_to "部門管理", admin_departments_path %></a>
             <a class = "header_column"><%= link_to "ログアウト", destroy_user_session_path, method: :delete %></a>
          
        </p>
        <p class = "header-right">
            <%= "ログイン中:#{current_user.name}" %>
        </p>

    
          <% elsif user_signed_in? %>
        <p class = "header-left">
            <a class = "header_column"><%= link_to "投稿する", new_post_path %></a>
            <a class = "header_column"><%= link_to "投稿一覧", posts_path %></a>
            <a class = "header_column"><%= link_to "ユーザー一覧", users_path %></a>
            <a class = "header_column"><%= link_to "ログアウト", destroy_user_session_path, method: :delete %></a>
    
        </p>
        <p class = "header-right">
                <%="ログイン中:#{current_user.name}" %>
        </p>
        <p class = "header-right-right">
              <%# いいねの既読の有無に応じて、アイコンの表示を変更する。一連のロジック %>
                <% if user_signed_in? %>
                <%# ユーザーがログインしていたらいいねの既読有無を確認 %>
                  <% @notifications = current_user.passive_notifications.where(checked: false) %>
                    <%# checke: false = 未読があった場合 %>
                    <% if @notifications.any? %>
                        <%# fontawesomeにリンクを貼る %>
                        <%= link_to notifications_path do %>
                          <%# fontawesomeでアイコンを表示 %>
                          <span><i class="fa-solid fa-lightbulb fa-2x" style="color: gold;"></i></span>
                        <% end %>
                    <%# 既読済みの場合 %>
                    <% else %>
                        <%= link_to notifications_path do %>
                          <span><i class="fa-regular fa-lightbulb fa-2x" style="color: khaki;"></i></span>
                        <% end %>
                    <% end %>
                <% end %>
        </p>

          <% else %>
        <p class = "header-left">
            <a class = "header_column"><%= link_to "ゲストログイン", homes_guest_sign_in_path, method: :post %></a>
            <a class = "header_column"><%= link_to "ゲスト管理者ログイン", homes_guest_admin_sign_in_path, method: :post %></a>
          <% end %>
        </p>
    </div>

        <%# devise:ログイン時の表示 %>
        <%# <% if notice %> 
          <%# <p class="alert alert-notice"><%= notice %></p> 
        <%# <% end %> 
        <%# <% if alert %>
          <%# <p class="alert alert-error"><%= alert %></p>
        <%# <% end %> 
    


    <%= yield %>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <%# <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="./slick/slick.js" type="text/javascript" charset="utf-8"></script> %>
    <script type="text/javascript">
      $(function() {
        $('.slider').slick({
          dots: true,
          slidesToShow: 5,
          slidesToScroll: 3,
          
        });
      });
    </script>
    <footer>
      <div class = footer-sentence>Copyright ©︎ Thanks CO.,LTD. All Rights Reserved.</div>
    </footer>
    </body>
</html>
